row1=c(1,2,3);row1
row2=c(4,5,6);row2
row3=c(7,8,9);row3
mat1=rbind(row1,row2,row3)
mat2=cbind(row1,row2,row3)
mat1
mat2
chars=c("a","b","c","d","e","f","g","h","i","j")
mat1=matrix(chars)
mat1
mat2=matrix(chars,bcol=5)
mat2=matrix(chars.ncol=5)
mat2=matrix(chars,ncol=5)
mat2
mat3=matrix(1:8,nrow=2)
mat3
mat3*3;mat3
mat3*c(10,20)
x=matrix(1:12,nrow=3,dimnames=list(c("R1","R2","R3"),+c("c1","c2","c3","c4")))
x=matrix(1:12,nrow=3,dimnames=list(c("R1","R2","R3")+c("c1","c2","c3","c4")))
x=matrix(1:12,nrow=3,dimnames=list(c("R1","R2","R3"),+c("c1","c2","c3","c4")))
x=matrix(1:12,nrow=3,dimnames=list(c("R1","R2","R3"),c("c1","c2","c3","c4")))
x[7]
x
x[1,]
x[,1]
x[,2]
x[-2]
mat1=matrix(1:9,nrow=3,dimnames=list(c("row1","row2","row3"),c("col1","col2","col3")),byrow=TRUE)
mat1
apply(mat1,1,max)
aplly(mat1,2,max)
apply(mat1,2,max)
mean(mat1[2,])
apply(mat1,1,sum)
apply(mat1,[1,],sum)
no=c(1,2,3,4)
name+c("Aplle","Banana","Peach","Berry")
name=c("Aplle","Banana","Peach","Berry")
prices=c(500,200,200,50)
qty=c(5,2,7,9)
fruit=data.frame(No=no,Name=name,Prices=prices,QTY=qty)
fruit
name=c("강수민","강희수","권민찬","권재성")
english=c(90,80,60,70)
math=c(50,60,100,20)
Score=data.frame(Name=name,English=english,Math=math)
Score
Score$AVG=(Score$Englsih+$Score$Math)/2
Score$AVG=(Score$Englsih+Score$Math)/2
Score$AVG=(Score$English+Score$Math)/2
Score
10 + 20
install.packages(tidyr)
installed.packages(tidyr)
install.packages("tidyr")
library(tidyr)
df=tibble(
year=c(2010,2010,2010,2010,2012,2012,2012),
qtr=c(1,2,3,4,1,2,3),
revenue=c(10,20,30,40,NA,60,70)
)
df
library(dpl)
library(dplyr)
df%>%complete(year=full_seq(year,1)),qrt)
df%>%complete(year=full_seq(year,1), qtr)
#gather 함수 실습
gather=tibble(
country=c(Afghanistan,Brazil,China),
"1999"=c(745,37745,212258),
"2000"=c(2666,80268,213766)
)
gather=tibble(
country=c(Afghanistan,Brazil,China),
"1999"=c(745,37745,212258),
"2000"=c(2666,80268,213766)
)
#gather 함수 실습
gather=tibble(
country=c("Afghanistan","Brazil","China"),
"1999"=c(745,37745,212258),
"2000"=c(2666,80268,213766)
)
gather
gather%>%gather("1999","2000",key="year",value="cases")
country=c("Afghanistan","Afghanistan","Brazil","Brazil","China","China"),
year=c(1999,2000,1999,2000,1999,2000),
cases=c(2666,80268,21376,81446,25646,85656),
population=c(1949856,45612328,1561545,541551,456565,884666)
)
separate=tibble(
country=c("Afghanistan","Afghanistan","Brazil","Brazil","China","China"),
year=c(1999,2000,1999,2000,1999,2000),
cases=c(2666,80268,21376,81446,25646,85656),
population=c(1949856,45612328,1561545,541551,456565,884666)
)
separate
separate%>%separate(rate, into(c("cases","population")))
separate%>%separate(rate, into=(c("cases","population")))
separate=tibble(
country=c("Afghanistan","Afghanistan","Brazil","Brazil","China","China"),
year=c(1999,2000,1999,2000,1999,2000),
rate=c(745/1948169,2566/156156651,846/651651165,8789/65412321,8516/44446455,86/8898)
)
separate%>%separate(rate, into=(c("cases","population")))
gather%>%gather("1999","2000",key="year",value="cases")
gather=tibble(
country=c("Afghanistan","Brazil","China"),
"1999"=c(745,37745,212258),
"2000"=c(2666,80268,213766)
)
gather
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
key=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop")
rate=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
key=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
rate=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
key=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
value=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread%>%spread(key="type",value="count")
spread%>%spread(key="type",value="count")
#spread 함수 실습
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
type=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
count=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread%>%spread(key="type",value="count")
spread%>%spread(key="year",value="count")
#spread 함수 실습
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
type=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
count=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
library(tidyr)
library(dplyr)
#spread 함수 실습
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
type=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
count=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread%>%spread(key="year",value="count")
spread%>%spread(key="type",value="count")
library(tidyr)
library(dplyr)
spread=tibble(
country=c("Afghanistan","Afghanistan","Afghanistan","Afghanistan","Brazil","Brazil","Brazil","Brazil","China","China","China","China"),
year=c(1999,1999,2000,2000,1999,1999,2000,2000,1999,1999,2000,2000),
type=c("cases","pop","cases","pop","cases","pop","cases","pop","cases","pop","cases","pop"),
count=c(654,8794561,152,4864513,451,654651,465,48956165,645,656526,123,54689)
)
spread%>%spread(key="type",value="count")
spread%>%spread(key="year",value="count")
spread%>%spread(key="type",value="count")
library(dplyr)
library(tidyr)
getwd()
setwd("C:/Users/Administrator/Documents/Today_I_Learned/R통계분석")
data=read.csv("test_data.csv",header=T)
View(data)
str(data)
names(data)=c("Time","Division","Particulates","Ultra_Particulates")
new_data=na.omit(data)
div_partuculates=new_data%>%group_by(Division)%>%summarise(mean_Particulates=mean(Particulates),mid_Particulates=median(Particulates),max_Particulates=max(Particulates))
div_Ultra=new_data%>%group_by(Division)%>%summarise(mean_Ultra=mean(Ultra_Particulates),mid_Ultra=median(Ultra_Particulates),max_Ultra=max(Ultra_Particulates))
div_partuculates
div_Ultra
div_partuculates%>%arrange(desc(mean_Particulates))%>%head(1)
#해석 : 우선 데이터에 NA값이 존재해서 NA값으 존재하는 행은 모두 계산에서 배제하기 위해 na.omit() 함수를 활용했다. 그 뒤 미세먼지와 초미세먼지에 대한 tibble을 따로 만들었다           먼저 group_by 함수를 이용해 각 구별로 구분짓고 summarise함수를 통해 각 구마다 최대값 중앙값 평균값을 구했다.
#       그 뒤 미세먼지 tibble에서 미세먼지 평균에 대한 row를 arrange함수를 통해 내림차순 정렬 한뒤 가장 앞의 값을 출력했다.
#정답 : 서초구가 미세먼지의 평균값이 가장 높다.
new_data%>%select(Time,Division,Particulates)%>%arrange(desc(Particulates))%>%head(1)
#해석 : 결측치를 제거한 new_data에서 초미세먼지에 대한 정보를 제외하고 일시와 장소 미세먼지에대한 정보만 select후 미세먼지가 높은순으로 정렬 한뒤 첫번째 값만 출력했다.
#정답 : 2021-05-08 1:00 중구
a=new_data%>%select(Time,Division,Ultra_Particulates)%>%arrange(Ultra_Particulates)
View(a)
#해석 : 결측치를 제거한 new_data에서 미세먼지에 대한 정보를 제외하고 일시와 장소 초미세먼지에 대한 정보만 select한 후 초미세먼지를 기준으로 오름차순 정렬을 했다.
#결과 : 초미세먼지 측정값의 최저치가 "1"인 일시와 지역이 너무 많다. View를 활용해 데이터를 확인한 결과 5698번의 일시가 최저치로 측정되었다.
#해석 : 결측치를 제거한 new_data에서 초미세먼지에 대한 정보를 제외하고 일시와 장소 미세먼지에대한 정보만 select후 미세먼지가 높은순으로 정렬 한뒤 첫번째 값만 출력했다.
#정답 : 2021-05-08 1:00 중구
data%>%select(Time,Division,Ultra_Particulates)%>%arrange(Ultra_Particulates)
#해석 : 결측치를 제거한 new_data에서 초미세먼지에 대한 정보를 제외하고 일시와 장소 미세먼지에대한 정보만 select후 미세먼지가 높은순으로 정렬 한뒤 첫번째 값만 출력했다.
#정답 : 2021-05-08 1:00 중구
a=data%>%select(Time,Division,Ultra_Particulates)%>%arrange(Ultra_Particulates)
View(a)
a%>%select(Time,Division,Particulates)%>%arrange(desc(Particulates))%>%head(1)
data%>%select(Time,Division,Particulates)%>%arrange(desc(Particulates))%>%head(1)
